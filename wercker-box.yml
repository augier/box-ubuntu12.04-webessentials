name: ubuntu12.04-webessentials
version: 0.0.12
inherits: wercker/ubuntu12.04-chef10.18.2@0.0.8
type: main
platform: ubuntu@12.04
description: Base box with most popular libraries for the web installed
packages:
  - wget
  - build-essential
  - curl
  - git-core
  - nano
  - language-pack-en
  - nodejs
  - erlang
  - openjdk-6-jre
  - ruby1.9.3
  - libxslt-dev
  - libxml2-dev
  - imagemagick
  - libmagickwand-dev
  - zlib1g-dev
  - libfreetype6-dev
  - liblcms1-dev
  - libjpeg8-dev
  - libevent-dev
  - libev-dev
  - libyaml-dev
  - libffi-dev
  - libtidy-dev
  - libsqlite3-dev
  - libcurl4-openssl-dev
  - libssl-dev
  - libmemcached-dev
  - memcached
  - mongodb-clients
  - xvfb
  - firefox
  - libqtwebkit4
  - wkhtmltopdf
  - elasticsearch@0.20.5
  - phantomjs@1.8.2
  - libv8-dev
  - postgresql-client@9.2
  - optipng
  - libjpeg-dev
  - libpng-dev
script: |
  sudo chef-solo -c $WERCKER_SOURCE_DIR/solo.rb -j $WERCKER_SOURCE_DIR/solo.json -l debug
  export
  ./hosts.sh
  sudo apt-get --purge remove postgresql\*
  
  wget --quiet -O - http://apt.postgresql.org/pub/repos/apt/ACCC4CF8.asc | sudo apt-key add -
  sudo sh -c "echo deb http://apt.postgresql.org/pub/repos/apt/ precise-pgdg main > /etc/apt/sources.list.d/docker.list"
  sudo apt-get update
  sudo apt-get install postgresql-client-9.2
  
  sudo apt-get install optipng libjpeg-dev libpng-dev -y
